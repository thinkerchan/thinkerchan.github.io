<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://thinkerchan.com">
  
  <title>jQueryæºç å­¦ä¹ -çƒ­èº«æ´»åŠ¨ | æµ‹è¯•ç‹—</title>
  <meta name="author" content="æµ‹è¯•ç‹—">
  
  <meta name="description" content="ğŸ¶">
  
  
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

  <meta property="og:title" content="jQueryæºç å­¦ä¹ -çƒ­èº«æ´»åŠ¨"/>
  <meta property="og:site_name" content="æµ‹è¯•ç‹—"/>

  
    <meta property="og:image" content=""/>
  

  <link rel="alternate" href="/atom.xml" title="æµ‹è¯•ç‹—" type="application/atom+xml">

  <link rel="preload" as="style" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

  <link rel="icon" class="js-site-favicon" type="image/svg+xml" href="https://github.githubassets.com/favicons/favicon.svg">
  <link href="https://unpkg.com" rel="dns-prefetch" />
  <link href="https://busuanzi.ibruce.info" rel="dns-prefetch" />
  <link href="https://cdn1.lncld.net" rel="dns-prefetch" />
  
  <link href="https://xpjzs0ff.api.lncld.net" rel="dns-prefetch" />
  
</head>

<body>
  <div class="container">
    <div class="left-col" style="background-image:url('https://tva1.sinaimg.cn/large/007S8ZIlly1giq5k8ty3tj306y0zkdix.jpg')">
      <div class="intrude-less">
        <header id="header" class="inner">
          <a href="/">
            <div class="profilepic"><img class="avatar" src='https://tva1.sinaimg.cn/large/007S8ZIlly1giq5t0agwnj30bf0b4jrk.jpg'></div>
          </a>
          <div class="author-name"><a href="/">æµ‹è¯•ç‹—</a></div>
          <p class="aboutme">ğŸ¶</p>
          <nav id="main-nav">
            <ul class="main">
              
              <li>
                
                  <a href="/archives">å½’æ¡£</a>
                
              </li>
              
              <li>
                
                  <a href="/categories">ä¸“é¢˜</a>
                
              </li>
              
              <li>
                
                  <a href="/friendlinks">å‹é“¾</a>
                
              </li>
              
              <li>
                
                  <a href="/life">å…³äº</a>
                
              </li>
              
              <li>
                
                  <a href="/search">æœç´¢</a>
                
              </li>
              
            </ul>
          </nav>
          <nav id="sub-nav">
            <div class="social">
              
              <a class="twitter" href="https://twitter.com/thinkerchan" title="Twitter">Twitter</a>
              
              
              
              <a class="github" href="https://github.com/thinkerchan" title="Github">Github</a>
              
              
              <a class="yuque" href="https://yuque.com/testdog" title="è¯­é›€">è¯­é›€</a>
              

              
            </div>
          </nav>
        </header>
      </div>
    </div>
    <div class="mid-col">
      <div class="mid-col-container">
        <div id="content" class="inner">
          <article class="post">

  
    <div class="meta">
      
<div class="date">

<time datetime="2015-11-25T11:33:00.000Z"
      
      data-updated="true"
       itemprop="datePublished">
  2015-11-25
</time>





</div>

    </div>
  
  <h1 class="title" itemprop="name">jQueryæºç å­¦ä¹ -çƒ­èº«æ´»åŠ¨</h1>
  <div class="entry-content" itemprop="articleBody">
    
    <div class="post-toc">
      <div class="toc-title">TOC</div>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#å‰è¨€"><span class="toc-number">1.</span> <span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å›é¡¾"><span class="toc-number">2.</span> <span class="toc-text">å›é¡¾</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#é¢å‘å¯¹è±¡"><span class="toc-number">2.1.</span> <span class="toc-text">é¢å‘å¯¹è±¡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#å¸¸è§å¯¹è±¡åˆ›å»ºæ–¹å¼"><span class="toc-number">2.1.1.</span> <span class="toc-text">å¸¸è§å¯¹è±¡åˆ›å»ºæ–¹å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ç†è§£å±æ€§ç±»å‹"><span class="toc-number">2.1.2.</span> <span class="toc-text">ç†è§£å±æ€§ç±»å‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#åˆ›å»ºå¯¹è±¡çš„æ¨¡å¼"><span class="toc-number">2.2.</span> <span class="toc-text">åˆ›å»ºå¯¹è±¡çš„æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#å·¥å‚æ¨¡å¼"><span class="toc-number">2.2.1.</span> <span class="toc-text">å·¥å‚æ¨¡å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#æ„é€ å‡½æ•°æ¨¡å¼"><span class="toc-number">2.2.2.</span> <span class="toc-text">æ„é€ å‡½æ•°æ¨¡å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#åŸå‹æ¨¡å¼"><span class="toc-number">2.2.3.</span> <span class="toc-text">åŸå‹æ¨¡å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ç»„åˆä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼å’ŒåŸå‹æ¨¡å¼"><span class="toc-number">2.2.4.</span> <span class="toc-text">ç»„åˆä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼å’ŒåŸå‹æ¨¡å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#åŠ¨æ€åŸå‹æ¨¡å¼"><span class="toc-number">2.2.5.</span> <span class="toc-text">åŠ¨æ€åŸå‹æ¨¡å¼</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ç»§æ‰¿"><span class="toc-number">2.3.</span> <span class="toc-text">ç»§æ‰¿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å€Ÿç”¨æ„é€ å‡½æ•°"><span class="toc-number">2.4.</span> <span class="toc-text">å€Ÿç”¨æ„é€ å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ç»„åˆç»§æ‰¿"><span class="toc-number">2.5.</span> <span class="toc-text">ç»„åˆç»§æ‰¿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#åŸå‹å¼ç»§æ‰¿"><span class="toc-number">2.6.</span> <span class="toc-text">åŸå‹å¼ç»§æ‰¿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å¯„ç”Ÿå¼ç»§æ‰¿-ç±»ä¼¼äºåŸå‹é“¾ç»§æ‰¿"><span class="toc-number">2.7.</span> <span class="toc-text">å¯„ç”Ÿå¼ç»§æ‰¿(ç±»ä¼¼äºåŸå‹é“¾ç»§æ‰¿)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"><span class="toc-number">2.8.</span> <span class="toc-text">å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</span></a></li></ol></li></ol>
    </div>
    
    <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>jQueryå‡­å€Ÿç®€æ´çš„è¯­æ³•å’Œè·¨å¹³å°çš„å…¼å®¹æ€§ï¼Œæå¤§åœ°ç®€åŒ–äº†JavaScriptå¼€å‘å¼€å‘äººå‘˜éå†HTMLæ–‡æ¡£ã€æ“ä½œDOMã€å¤„ç†äº‹ä»¶ã€æ‰§è¡ŒåŠ¨ç”»å’Œå¼€å‘Ajaxçš„æ“ä½œâ€¦. </p>
<p>ç„¶è€Œæˆ‘æ‰€åœ¨çš„å…¬å¸é‡Œé¢å¹¶ä¸æ¨å´‡ä½¿ç”¨jq,å°½ç®¡ä»–ä»¬æœ‰jqçš„æ›¿ä»£å“(ç§°ä¹‹ä¸ºpj),ç„¶è€Œæˆ‘åœ¨å¼€å‘è¿‡ç¨‹ä¸­,å‘ç°pjå¹¶æ²¡æœ‰æƒ³è±¡çš„æ–¹ä¾¿,ç”šè‡³æŸç§æƒ…å†µä¸‹æœ‰äº›é¸¡è‚‹,ä¹Ÿè€ƒè™‘è¿‡å°†è‡ªå·±å¹³å¸¸å¸¸ç”¨çš„å‡½æ•°æˆ–è€…ç»„ä»¶å°è£…æˆè‡ªå·±çš„åº“,å¥ˆä½•æœ¬äººèƒ½åŠ›æ¸£æ¸£,é‚å¼€jqæºç å­¦ä¹ ç³»åˆ—,ä¸»è¦å­¦ä¹ ç›®çš„å¦‚ä¸‹:</p>
<ul>
<li>å±Œç‚¸å¤©çš„æ€ç»´/è®¾è®¡æ¨¡å¼</li>
<li>ä¿®ç‚¼jsèƒ½åŠ›</li>
<li>ç²¾å¦™çš„å…¼å®¹å¤„ç†</li>
</ul>
<p>è‡ªå‹‰.</p>
<h2 id="å›é¡¾"><a href="#å›é¡¾" class="headerlink" title="å›é¡¾"></a>å›é¡¾</h2><p>åœ¨è¿›å…¥å­¦ä¹ ä¹‹å‰, å…ˆå¤ä¹ ä¸€ä¸‹ä¸€äº›å¯èƒ½ä¾¿äºç†è§£jqæºç çš„åŸºæœ¬çŸ¥è¯†:</p>
<h3 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h3><p>é¢å‘å¯¹è±¡å°±æ˜¯ä½ é¢å¯¹ç€ä½ çš„å¯¹è±¡â€¦â€¦å“¦ä¸,<strong>é¢å‘å¯¹è±¡</strong>(Object-Oriented,OO)çš„è¯­è¨€æœ‰ä¸€ä¸ªæ ‡å¿—,é‚£å°±æ˜¯å®ƒä»¬éƒ½æœ‰ç±»çš„æ¦‚å¿µ,è€Œé€šè¿‡ç±»å¯ ä»¥åˆ›å»ºä»»æ„å¤šä¸ªå…·æœ‰ç›¸åŒå±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡â€¦</p>
<p>å•çº¯çš„æ–‡å­—è²Œä¼¼æœ‰ç‚¹æŠ½è±¡ , é‚£è¿˜æ˜¯ç›´æ¥ç”¨ä»£ç å±•ç¤ºå§</p>
<h4 id="å¸¸è§å¯¹è±¡åˆ›å»ºæ–¹å¼"><a href="#å¸¸è§å¯¹è±¡åˆ›å»ºæ–¹å¼" class="headerlink" title="å¸¸è§å¯¹è±¡åˆ›å»ºæ–¹å¼"></a>å¸¸è§å¯¹è±¡åˆ›å»ºæ–¹å¼</h4><p>1)ä¼ ç»Ÿæ–¹å¼<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">    person.name = <span class="string">"ThinkerChan"</span>;</span><br><span class="line">    person.age = <span class="number">23</span>;</span><br><span class="line">    person.job = <span class="string">"worker"</span>;</span><br><span class="line">    person.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>è¿™ç§å¯¹è±¡åˆ›å»ºæ–¹å¼æ˜¯æ¯”è¾ƒå¤è€çš„, å…ˆ<code>new</code>ä¸€ä¸ªå¯¹è±¡,ç„¶åå†é€šè¿‡è®¿é—®ç¬¦æ¥æ·»åŠ å±æ€§æˆ–è€…æ–¹æ³•. å¾ˆå¿«å°±è¢«ä¸‹é¢çš„<strong>å­—é¢é‡å¯¹è±¡</strong>åˆ›å»ºæ–¹å¼æ‰€ä»£æ›¿:</p>
<p>2)å­—é¢é‡åˆ›å»ºæ–¹å¼<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">ï¿¼ï¿¼<span class="keyword">var</span> person = &#123;</span><br><span class="line">    name: <span class="string">"ThinkerChan"</span>,</span><br><span class="line">    age: <span class="number">23</span>,</span><br><span class="line">    job: <span class="string">"worker"</span>,</span><br><span class="line">    sayName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="keyword">this</span>.name);</span><br><span class="line">&#125; &#125;;</span><br></pre></td></tr></table></figure></p>
<h4 id="ç†è§£å±æ€§ç±»å‹"><a href="#ç†è§£å±æ€§ç±»å‹" class="headerlink" title="ç†è§£å±æ€§ç±»å‹"></a>ç†è§£å±æ€§ç±»å‹</h4><p>äº‹å…ˆå£°æ˜, è¿™éƒ¨åˆ†å†…å®¹å¯¹å¤„äºæ—¥å¸¸å¼€å‘çš„ä½ æ¥è¯´å¹¶æ²¡ä»€ä¹ˆå¾ˆå¤§ç”¨å¤„, å†™å‡ºæ¥, æ˜¯å› ä¸ºå®ƒèƒ½æ›´å¥½åœ°å¸®åŠ©ç†è§£<strong>å¯¹è±¡</strong>è¿™ä¸€æ¦‚å¿µ</p>
<p>å…ˆçœ‹ä¸€ä¸ªä¾‹å­:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$(&apos;img&apos;).attr(&apos;width&apos;,100)</span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨jqçš„æ—¶å€™, ä¼šç”¨åˆ°<code>attr( )</code>è¿™ä¸ªæ–¹æ³•, <strong>attr</strong>ä¹Ÿå°±æ˜¯<strong>attribute</strong>, ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸å¸¸ç†è§£çš„<strong>å±æ€§</strong> ,ç„¶è€Œ<strong>å±æ€§</strong>æœ¬èº«ä¹Ÿæœ‰<strong>ç‰¹æ€§(property)</strong> , ç‰¹æ€§çš„ä¸åŒå†³å®šäº†å±æ€§çš„ä¸åŒ:</p>
<blockquote>
<p>ä»¥ä¸‹éƒ¨åˆ†æ‘˜è‡ªJavascripté«˜çº§ç¨‹åºè®¾è®¡ç¬¬ä¸‰ç‰ˆç¬¬å…­ç« </p>
</blockquote>
<p>ECMAScript ä¸­æœ‰ä¸¤ç§å±æ€§:<strong>æ•°æ®å±æ€§</strong>å’Œ<strong>è®¿é—®å™¨å±æ€§</strong><br>1) <strong>æ•°æ®å±æ€§</strong><br>æ•°æ®å±æ€§åŒ…å«ä¸€ä¸ªæ•°æ®å€¼çš„ä½ç½®ã€‚åœ¨è¿™ä¸ªä½ç½®å¯ä»¥è¯»å–å’Œå†™å…¥å€¼ã€‚æ•°æ®å±æ€§æœ‰ 4 ä¸ªæè¿°å…¶è¡Œä¸ºçš„<strong>ç‰¹æ€§</strong>:</p>
<ul>
<li><strong>Configurable</strong>:è¡¨ç¤ºèƒ½å¦é€šè¿‡ delete åˆ é™¤å±æ€§ä»è€Œé‡æ–°å®šä¹‰å±æ€§,èƒ½å¦ä¿®æ”¹å±æ€§çš„ç‰¹æ€§,æˆ–è€…èƒ½å¦æŠŠå±æ€§ä¿®æ”¹ä¸ºè®¿é—®å™¨å±æ€§ã€‚åƒå‰é¢ä¾‹å­ä¸­é‚£æ ·ç›´æ¥åœ¨å¯¹è±¡ä¸Šå®šä¹‰çš„å±æ€§,å®ƒä»¬çš„è¿™ä¸ªç‰¹æ€§é»˜è®¤å€¼ä¸º true</li>
<li><strong>Enumerable</strong>:è¡¨ç¤ºèƒ½å¦é€šè¿‡ for-in å¾ªç¯è¿”å›å±æ€§ã€‚è¿™ä¸ªç‰¹æ€§é»˜è®¤å€¼ä¸º true</li>
<li><strong>Writable</strong>:è¡¨ç¤ºèƒ½å¦ä¿®æ”¹å±æ€§çš„å€¼ã€‚é»˜è®¤ä¸ºtrue</li>
<li><strong>Vaule</strong>:è¿™ä¸ªå¥½ç†è§£,å°±æ˜¯å€¼, é»˜è®¤undefined</li>
</ul>
<p>2)  <strong>è®¿é—®å™¨å±æ€§</strong><br>è®¿é—®å™¨å±æ€§ä¸åŒ…å«æ•°æ®å€¼;å®ƒä»¬åŒ…å«ä¸€å¯¹å„¿ <code>getter</code> å’Œ <code>setter</code> å‡½æ•°(ä¸è¿‡,è¿™ä¸¤ä¸ªå‡½æ•°éƒ½ä¸æ˜¯å¿…éœ€çš„)ã€‚ åœ¨è¯»å–è®¿é—®å™¨å±æ€§æ—¶,ä¼šè°ƒç”¨ <code>getter</code> å‡½æ•°,è¿™ä¸ªå‡½æ•°è´Ÿè´£è¿”å›æœ‰æ•ˆçš„å€¼;åœ¨å†™å…¥è®¿é—®å™¨å±æ€§æ—¶,ä¼šè°ƒç”¨ <code>setter</code> å‡½æ•°å¹¶ä¼ å…¥æ–°å€¼,è¿™ä¸ªå‡½æ•°è´Ÿè´£å†³å®šå¦‚ä½•å¤„ç†æ•°æ®ã€‚åŒæ ·æœ‰ä¹Ÿ 4 ä¸ªæè¿°å…¶è¡Œä¸ºçš„<strong>ç‰¹æ€§</strong>:</p>
<ul>
<li><strong>Configurable</strong>:è¡¨ç¤ºèƒ½å¦é€šè¿‡ delete åˆ é™¤å±æ€§ä»è€Œé‡æ–°å®šä¹‰å±æ€§,èƒ½å¦ä¿®æ”¹å±æ€§çš„ç‰¹æ€§,æˆ–è€…èƒ½å¦æŠŠå±æ€§ä¿®æ”¹ä¸ºè®¿é—®å™¨å±æ€§ã€‚åƒå‰é¢ä¾‹å­ä¸­é‚£æ ·ç›´æ¥åœ¨å¯¹è±¡ä¸Šå®šä¹‰çš„å±æ€§,å®ƒä»¬çš„è¿™ä¸ªç‰¹æ€§é»˜è®¤å€¼ä¸º true</li>
<li><strong>Enumerable</strong>:è¡¨ç¤ºèƒ½å¦é€šè¿‡ for-in å¾ªç¯è¿”å›å±æ€§ã€‚è¿™ä¸ªç‰¹æ€§é»˜è®¤å€¼ä¸º true</li>
<li><strong>Get</strong>:åœ¨è¯»å–å±æ€§æ—¶è°ƒç”¨çš„å‡½æ•°ã€‚é»˜è®¤ä¸ºundefined</li>
<li><strong>Set</strong>:åœ¨å†™å…¥å±æ€§æ—¶è°ƒç”¨çš„å‡½æ•°ã€‚é»˜è®¤ä¸ºundefined</li>
</ul>
<p>3) <strong>ä¿®æ”¹ç‰¹æ€§(property)</strong><br>ECMAScript 5 çš„ <code>Object.defineProperty()</code>æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³• æ¥æ”¶ä¸‰ä¸ªå‚æ•°:å±æ€§æ‰€åœ¨çš„å¯¹è±¡ã€å±æ€§çš„åå­—å’Œä¸€ä¸ªæè¿°ç¬¦å¯¹è±¡ã€‚å…¶ä¸­,æè¿°ç¬¦(descriptor)å¯¹è±¡çš„å± æ€§å¿…é¡»æ˜¯:configurableã€enumerableã€writable å’Œ valueã€‚è®¾ç½®å…¶ä¸­çš„ä¸€æˆ–å¤šä¸ªå€¼,å¯ä»¥ä¿®æ”¹ å¯¹åº”çš„ç‰¹æ€§å€¼ã€‚</p>
<p>è§demo:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;&#125;;</span><br><span class="line"><span class="comment">// Object.defineProperty(å¯¹è±¡,å±æ€§,ç‰¹æ€§å¯¹è±¡)</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">"name"</span>, &#123;</span><br><span class="line">    writable: <span class="literal">false</span>, <span class="comment">//å·²æ”¹æˆä¸å¯å†™</span></span><br><span class="line">    value: <span class="string">"Nicholas"</span> <span class="comment">//é»˜è®¤å€¼"Nicholas"</span></span><br><span class="line">&#125;);</span><br><span class="line">alert(person.name); <span class="comment">//"Nicholas" </span></span><br><span class="line">person.name = <span class="string">"Greg"</span>; <span class="comment">//å°è¯•é‡å†™nameçš„å€¼,å¤±è´¥,åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæŠ¥é”™</span></span><br><span class="line">alert(person.name); <span class="comment">//"Nicholas"</span></span><br></pre></td></tr></table></figure></p>
<p>æ³¨æ„:<br>æŠŠ configurable è®¾ç½®ä¸º false,è¡¨ç¤ºä¸èƒ½ä»å¯¹è±¡ä¸­åˆ é™¤å±æ€§ã€‚å¦‚æœå¯¹è¿™ä¸ªå±æ€§è°ƒç”¨ delete,åˆ™ åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ä»€ä¹ˆä¹Ÿä¸ä¼šå‘ç”Ÿ,è€Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šå¯¼è‡´é”™è¯¯ã€‚è€Œä¸”,ä¸€æ—¦æŠŠå±æ€§å®šä¹‰ä¸ºä¸å¯é…ç½®çš„, å°±ä¸èƒ½å†æŠŠå®ƒå˜å›å¯é…ç½®äº†ã€‚æ­¤æ—¶,å†è°ƒç”¨<code>Object.defineProperty()</code>æ–¹æ³•ä¿®æ”¹é™¤ <code>writable</code> ä¹‹å¤– çš„ç‰¹æ€§,éƒ½ä¼šå¯¼è‡´é”™è¯¯:</p>
<p>è§demo:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">"name"</span>, &#123;</span><br><span class="line">    configurable: <span class="literal">false</span>,</span><br><span class="line">    value: <span class="string">"Nicholas"</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//æŠ›å‡ºé”™è¯¯</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">"name"</span>, &#123;</span><br><span class="line">    configurable: <span class="literal">true</span>,</span><br><span class="line">    value: <span class="string">"Nicholas"</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>å³:å¯ä»¥å¤šæ¬¡è°ƒç”¨ Object.defineProperty()æ–¹æ³•ä¿®æ”¹åŒä¸€ä¸ªå±æ€§,ä½†åœ¨æŠŠ configurableç‰¹æ€§è®¾ç½®ä¸º false ä¹‹åå°±ä¼šæœ‰é™åˆ¶äº†</p>
<p>å†çœ‹ä¸€ä¸ªå…³äºè®¿é—®å™¨å±æ€§ä¿®æ”¹ç‰¹æ€§çš„demo:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> book = &#123;</span><br><span class="line">    _year: <span class="number">2004</span>,</span><br><span class="line">	edition: <span class="number">1</span> </span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(book, <span class="string">"year"</span>, &#123;</span><br><span class="line">    get: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>._year;</span><br><span class="line">    &#125;,</span><br><span class="line">    set: <span class="function"><span class="keyword">function</span>(<span class="params">newValue</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (newValue &gt; <span class="number">2004</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>._year = newValue;</span><br><span class="line">            <span class="keyword">this</span>.edition += newValue - <span class="number">2004</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br><span class="line">book.year = <span class="number">2005</span>; alert(book.edition); <span class="comment">//2</span></span><br></pre></td></tr></table></figure></p>
<p>ç›¸ä¿¡è¿™ä¸ªä¾‹å­èƒ½å¤Ÿå¾ˆå¥½åœ°å¸®åŠ©ä½ ç†è§£<code>Get</code>å’Œ<code>Set</code>ç‰¹æ€§ .</p>
<p>æ³¨æ„:<br>ä¸ä¸€å®šéè¦åŒæ—¶æŒ‡å®š <code>getter</code> å’Œ <code>setter</code>ã€‚åªæŒ‡å®š <code>getter</code> æ„å‘³ç€å±æ€§æ˜¯ä¸èƒ½å†™,å°è¯•å†™å…¥å±æ€§ä¼šè¢«å¿½ç•¥ã€‚ åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹,å°è¯•å†™å…¥åªæŒ‡å®šäº† <code>getter</code> å‡½æ•°çš„å±æ€§ä¼šæŠ›å‡ºé”™è¯¯ã€‚ç±»ä¼¼åœ°,åªæŒ‡å®š <code>setter</code> å‡½æ•°çš„å±æ€§ä¹Ÿ ä¸èƒ½è¯»,å¦åˆ™åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šè¿”å› undefined,è€Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>
<p>å¦å¤–,æ—§ç‰ˆæœ¬çš„chrome, safari, operaéƒ½æä¾›äº†å®ç°å¯¹å·²ingåŠŸèƒ½çš„<code>__defineGetter__</code>å’Œ<code>__defineSetter__</code></p>
<p>4) <strong>å®šä¹‰å¤šä¸ªå±æ€§</strong></p>
<p>è§demo:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> book = &#123;&#125;;</span><br><span class="line"><span class="comment">//Object.defineProperties(å¯¹è±¡,å±æ€§å¯¹è±¡)</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperties(book, &#123;</span><br><span class="line">    _year: &#123;</span><br><span class="line">        value: <span class="number">2004</span></span><br><span class="line">    &#125;,</span><br><span class="line">    edition:&#123;</span><br><span class="line">	    value:<span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>5) <strong>è¯»å–å±æ€§ç‰¹æ€§</strong></p>
<p>è§demo:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> book = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperties(book, &#123;</span><br><span class="line">    _year: &#123;</span><br><span class="line">        value: <span class="number">2004</span></span><br><span class="line">    &#125;,</span><br><span class="line">    edition: &#123;</span><br><span class="line">        value: <span class="number">1</span></span><br><span class="line">	&#125;,</span><br><span class="line">    year: &#123;</span><br><span class="line">        get: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>._year;</span><br><span class="line">        &#125;,</span><br><span class="line">        set: <span class="function"><span class="keyword">function</span>(<span class="params">newValue</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (newValue &gt; <span class="number">2004</span>) &#123;</span><br><span class="line">                <span class="keyword">this</span>._year = newValue;</span><br><span class="line">                <span class="keyword">this</span>.edition += newValue - <span class="number">2004</span>;</span><br><span class="line">	        &#125;</span><br><span class="line">		&#125;</span><br><span class="line">	 &#125;</span><br><span class="line">&#125;);</span><br><span class="line">ï¿¼ï¿¼ï¿¼ï¿¼ï¿¼<span class="keyword">var</span> descriptor = <span class="built_in">Object</span>.getOwnPropertyDescriptor(book, <span class="string">"_year"</span>); <span class="comment">//æ³¨æ„è¿™é‡Œå–çš„æ˜¯å®ä¾‹å±æ€§</span></span><br><span class="line">alert(descriptor.value); <span class="comment">//2004</span></span><br><span class="line">alert(descriptor.configurable); <span class="comment">//false</span></span><br><span class="line">alert(<span class="keyword">typeof</span> descriptor.get); <span class="comment">//"undefined"</span></span><br><span class="line"><span class="keyword">var</span> descriptor = <span class="built_in">Object</span>.getOwnPropertyDescriptor(book, <span class="string">"year"</span>); </span><br><span class="line">alert(descriptor.value); <span class="comment">//undefined</span></span><br><span class="line">alert(descriptor.enumerable); <span class="comment">//false</span></span><br><span class="line">alert(<span class="keyword">typeof</span> descriptor.get); <span class="comment">//"function"</span></span><br></pre></td></tr></table></figure>
<p>å¯¹äºæ•°æ®å±æ€§_year,value ç­‰äºæœ€åˆçš„å€¼,configurable æ˜¯ false,è€Œ get ç­‰äº undefinedã€‚ å¯¹äºè®¿é—®å™¨å±æ€§ year,value ç­‰äº undefined,enumerable æ˜¯ false,è€Œ get æ˜¯ä¸€ä¸ªæŒ‡å‘ getter å‡½æ•°çš„æŒ‡é’ˆã€‚</p>
<h3 id="åˆ›å»ºå¯¹è±¡çš„æ¨¡å¼"><a href="#åˆ›å»ºå¯¹è±¡çš„æ¨¡å¼" class="headerlink" title="åˆ›å»ºå¯¹è±¡çš„æ¨¡å¼"></a>åˆ›å»ºå¯¹è±¡çš„æ¨¡å¼</h3><p>å‰é¢è¯´çš„ä¸¤ç§å¯¹è±¡åˆ›å»º<strong>æ–¹å¼</strong>éƒ½èƒ½åˆ›å»ºå¯¹è±¡,ä½†æ˜¯ç¼ºç‚¹ä¹Ÿéå¸¸æ˜æ˜¾, ä¸€æ—¦éœ€è¦åˆ›å»ºå¾ˆå¤šå¯¹è±¡, é‚£å°±å¾—é‡å¤å¤§é‡ä»£ç  , äºæ˜¯æœ‰äº†ä»¥ä¸‹å‡ ç§åˆ›å»ºå¯¹è±¡çš„<strong>æ¨¡å¼</strong>:</p>
<h4 id="å·¥å‚æ¨¡å¼"><a href="#å·¥å‚æ¨¡å¼" class="headerlink" title="å·¥å‚æ¨¡å¼"></a>å·¥å‚æ¨¡å¼</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPerson</span>(<span class="params">name, age, job</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">    o.name = name;</span><br><span class="line">    o.age = age;</span><br><span class="line">    o.job = job;</span><br><span class="line">    o.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;;</span><br><span class="line">	<span class="keyword">return</span> o; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1 = createPerson(<span class="string">"k"</span>, <span class="number">23</span>, <span class="string">"worker"</span>);</span><br><span class="line"><span class="keyword">var</span> person2 = createPerson(<span class="string">"r"</span>, <span class="number">22</span>, <span class="string">"worker"</span>);</span><br></pre></td></tr></table></figure>
<p>å·¥å‚æ¨¡å¼çš„æ˜¾è‘—ç‰¹å¾å°±æ˜¯å°†ä¼ ç»Ÿå¯¹è±¡åˆ›å»ºæ–¹å¼ç”¨å‡½æ•°å°è£…èµ·æ¥, å³ä¾¿åœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™æ²¡ç”¨æ˜¾å¼åœ°è°ƒç”¨<code>new</code>,ä½†åœ¨å°è£…å¥½çš„<code>createPerson</code>å†…è¿˜æ˜¯æ¸…æ™°å¯è§. æ­£å¦‚å…¶åæ‰€è¨€, å·¥å‚æ¨¡å¼çš„çš„å±€é™åœ¨äºæ¯æ¬¡åˆ›å»ºçš„ä¸œè¥¿éƒ½æ˜¯åŒä¸€ä¸ª<strong>æ¨¡å‹</strong> , å¹¶ä¸çµæ´», ä¹Ÿæ²¡ç”¨è§£å†³<strong>å¯¹è±¡è¯†åˆ«</strong>çš„é—®é¢˜ .</p>
<p>äºæ˜¯æœ‰äº†ä¸‹ä¸€ç§æ¨¡å¼</p>
<h4 id="æ„é€ å‡½æ•°æ¨¡å¼"><a href="#æ„é€ å‡½æ•°æ¨¡å¼" class="headerlink" title="æ„é€ å‡½æ•°æ¨¡å¼"></a>æ„é€ å‡½æ•°æ¨¡å¼</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.job = job;</span><br><span class="line">    <span class="keyword">this</span>.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;; &#125;</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">"k"</span>, <span class="number">23</span>, <span class="string">"worker"</span>);</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">"r"</span>, <span class="number">22</span>, <span class="string">"worker"</span>);</span><br></pre></td></tr></table></figure>
<p>æ„é€ å‡½æ•°æ¨¡å¼æœ‰ä»¥ä¸‹ç‰¹ç‚¹</p>
<ul>
<li>å¯¹è±¡æ˜¯<code>new</code>å‡ºæ¥çš„</li>
<li>ç›´æ¥å°†å±æ€§å’Œæ–¹æ³•èµ‹ç»™äº† this å¯¹è±¡</li>
<li>æ²¡æœ‰ return è¯­å¥</li>
<li>ä¹ æƒ¯æ€§åœ°å°†æ„é€ å‡½æ•°é¦–å­—æ¯å¤§å†™</li>
</ul>
<p>å®é™…ä¸Š, æ„é€ å‡½æ•°å†…éƒ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ç»å†äº†â€ä¸‰éƒ¨æ›²â€</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡, å¹¶å°†thisæŒ‡å‘è¿™ä¸ªå¯¹è±¡</li>
<li>æ‰§è¡Œæ„é€ å‡½æ•°å†…çš„ä»£ç (å…¶å®å°±æ˜¯ç»™å¯¹è±¡æ·»åŠ å±æ€§)</li>
<li>è¿”å›è¿™ä¸ªå¯¹è±¡ </li>
</ol>
<p>å‰é¢è¿™ä¸ªä¾‹å­,  é€šè¿‡æ„é€ å‡½æ•°<code>Person</code>åˆ›å»ºäº†ä¸¤ä¸ªä¸åŒçš„å®ä¾‹<code>person1</code>å’Œ<code>person2</code>, ä»–ä»¬éƒ½æœ‰ä¸€ä¸ª<code>constructor</code>å±æ€§,æŒ‡å‘æ„é€ å‡½æ•°<code>Person</code>:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">alert(person1.constructor == Person); <span class="comment">//true</span></span><br><span class="line">ï¿¼alert(person2.constructor == Person); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<p>æåˆ°<strong>ç±»å‹è¯†åˆ«</strong>å’Œ<strong>å¯¹è±¡è¯†åˆ«</strong>å°±ä¸å¾—ä¸è¯´<code>typeof</code>å’Œ<code>instanceof</code>è¿ç®—ç¬¦,<code>typeof</code>å¸¸ç”¨è¯­åŸºæœ¬æ•°æ®ç±»å‹çš„è¯†åˆ«ä¸Š , <code>instanceof</code>åˆ™ç”¨åœ¨å¯¹è±¡å®ä¾‹çš„è¯†åˆ«ä¸Š:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">alert(person1 <span class="keyword">instanceof</span> <span class="built_in">Object</span>);  <span class="comment">//true</span></span><br><span class="line">alert(person1 <span class="keyword">instanceof</span> Person);  <span class="comment">//true</span></span><br><span class="line">alert(person2 <span class="keyword">instanceof</span> <span class="built_in">Object</span>);  <span class="comment">//true</span></span><br><span class="line">alert(person2 <span class="keyword">instanceof</span> Person);  <span class="comment">//true</span></span><br></pre></td></tr></table></figure></p>
<p>ç”±äº<strong>javascriptä¸­ä¸€åˆ‡çš†å¯¹è±¡</strong> , æ‰€ä»¥ å¾ˆæ˜æ˜¾ <code>person1</code>å’Œ<code>person2</code>éƒ½æ˜¯<code>Object</code>çš„å®ä¾‹(ç»§æ‰¿çš„ç¼˜æ•…).</p>
<p><strong>æ³¨æ„äº‹é¡¹</strong><br>å¦‚æœæƒ³è¦åˆ›å»ºçš„å®ä¾‹ä¸­æœ‰æŸä¸ªæ–¹æ³•(å‡½æ•°),é‚£ä¹ˆè¿™ä¸ªæ–¹æ³•(å‡½æ•°)ä¸è¦æ”¾åœ¨æ„é€ å‡½æ•°å†…</p>
<p>è§demo:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.job = job;</span><br><span class="line">    <span class="comment">//this.sayName=function()&#123;	console.log(this.name);&#125;</span></span><br><span class="line">	<span class="keyword">this</span>.sayName = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"console.log(this.name)"</span>);</span><br><span class="line">	<span class="comment">//æ³¨æ„: ä¸Šé¢çš„çš„å£°æ˜æ–¹å¼å’Œä¸‹é¢çš„new Functionæ˜¯ç­‰æ•ˆçš„, ä¹‹æ‰€ä»¥è¿™ä¹ˆåš,æ˜¯ä¸ºäº†ä¾¿äºç†è§£: æ„é€ å‡½æ•°æ¯æ¬¡åˆ›å»ºä¸€ä¸ªå®ä¾‹, sayNameéƒ½ä¼šè¢«é‡æ–°åˆ›å»ºä¸€ä¸ªåŒ¿åå‡½æ•°,ä»…ä»…æ˜¯ä¸ºäº†æ˜¾ç¤ºthis.nameè€Œåˆ›å»ºä¸¤ä¸ªåŠŸèƒ½ç›¸åŒçš„å‡½æ•°,å®åœ¨æ˜¯æµªè´¹èµ„æº.</span></span><br><span class="line">	<span class="keyword">this</span>.sayName2=sayName2;  <span class="comment">//åº”è¯¥é‡‡å–è¿™ç§æ–¹å¼</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayName2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">'k'</span>,<span class="number">0</span>,<span class="string">'worker'</span>);</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">'k2'</span>,<span class="number">0</span>,<span class="string">'worker'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(person1.sayName==person2.sayName); <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(person1.sayName2==person2.sayName2); <span class="comment">//true</span></span><br></pre></td></tr></table></figure></p>
<p>ç„¶è€Œ,é—®é¢˜åˆæ¥äº†, ä¸ºäº†å®ç°è¿™ä¸ªå‡½æ•°å…±äº«,æˆ‘ä»¬å°†å®ƒæ”¾åœ¨äº†å…¨å±€, å¦‚æœä»…ä»…åªæ˜¯ä¸ºäº†å®ç°å®ä¾‹çš„æŸä¸ªåŠŸèƒ½,é‚£ä¹ˆæ”¾åœ¨å…¨å±€ä¹Ÿæ˜¯åä¸å‰¯å®. äºæ˜¯æœ‰äº† <strong>åŸå‹æ¨¡å¼</strong></p>
<h4 id="åŸå‹æ¨¡å¼"><a href="#åŸå‹æ¨¡å¼" class="headerlink" title="åŸå‹æ¨¡å¼"></a>åŸå‹æ¨¡å¼</h4><p>ä¾ç…§javascriptçš„ç‰¹å¾, æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª<code>prototype</code>å±æ€§, è¿™æ˜¯ä¸€ä¸ªæŒ‡é’ˆ,æŒ‡å‘ä¸€ä¸ª<strong>å¯¹è±¡</strong>,æˆ‘ä»¬é€šå¸¸ç§°ä¹‹ä¸º <strong>åŸå‹å¯¹è±¡</strong> , å¯ä»¥ç†è§£æˆå®ƒæ˜¯ä¸€ä¸ªå­˜å‚¨å…¬å…±å±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡.</p>
<p><strong>åŸå‹å†™æ³•</strong></p>
<p>è§demo:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.name = <span class="string">"k"</span>;</span><br><span class="line">Person.prototype.age = <span class="number">23</span>;</span><br><span class="line">Person.prototype.job = <span class="string">"worker"</span>;</span><br><span class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	alert(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</span><br><span class="line">person1.sayName();   <span class="comment">//"k"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Person.prototype: "</span>,Person.prototype);	<span class="comment">//åŸå‹å¯¹è±¡</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Person.prototype.constructor==Person: "</span>,Person.prototype.constructor==Person); <span class="comment">//true, æŒ‡å›æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"person1.constructor: "</span>,person1.constructor); <span class="comment">//æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Person.constructor: "</span>,Person.constructor); <span class="comment">//æ€è€ƒä¸€ä¸‹è¿™é‡Œæ˜¯ä»€ä¹ˆç»“æœ?</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"person1.prototype: "</span>,person1.prototype);	<span class="comment">//undefined, å®ä¾‹å¯¹è±¡æ²¡æœ‰è¿™ä¸ªå±æ€§</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"person1.__proto__: "</span>,person1.__proto__); <span class="comment">//åŸå‹å¯¹è±¡,ç¡®å®šå®ä¾‹å’ŒåŸå‹çš„å…³ç³»(éæ ‡å‡†) , æ ‡å‡†çš„å±æ€§æ˜¯ [[prototype]],ä½†ä¸å¯è§</span></span><br><span class="line">person2.sayName(); <span class="comment">//"k"</span></span><br><span class="line">alert(person1.sayName == person2.sayName);  <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å±è”½é—®é¢˜</span></span><br><span class="line">person1.age = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person1.age);	<span class="comment">//100</span></span><br><span class="line">person1.age = <span class="literal">null</span>;		<span class="comment">// nullä¼šä¸­æ–­åŸå‹å¯¹åº”å±æ€§å’Œå®ä¾‹çš„å…³ç³»</span></span><br><span class="line"><span class="built_in">console</span>.log(person1.age);	<span class="comment">//null è¯´æ˜ä¼˜å…ˆæŸ¥æ‰¾å®ä¾‹ä¸­çš„å±æ€§,æ‰¾åˆ°å³åœæ­¢</span></span><br><span class="line"><span class="built_in">console</span>.log(person2.age);	<span class="comment">//23</span></span><br></pre></td></tr></table></figure></p>
<p>å…¶å®ƒç¡®å®šå®ä¾‹å’ŒåŸå‹ä¹‹é—´çš„å…³ç³»<br>1) <code>isPrototypeOf</code><br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">alert(Person.prototype.isPrototypeOf(person1));  <span class="comment">//true</span></span><br><span class="line">alert(Person.prototype.isPrototypeOf(person2));  <span class="comment">//true</span></span><br></pre></td></tr></table></figure></p>
<p>2) <code>Object.getPrototypeOf</code> //Es5æ–¹æ³•<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">alert(<span class="built_in">Object</span>.getPrototypeOf(person1) == Person.prototype); <span class="comment">//true</span></span><br></pre></td></tr></table></figure></p>
<p><strong>æŸ¥æ‰¾å±æ€§</strong><br>ç”¨<code>hasOwnProperty()</code>æ£€æµ‹å±æ€§æ˜¯å¦åœ¨å®ä¾‹ä¸­, <code>for-in</code>å¾ªç¯åˆ™ä¼šéå†åŒ…æ‹¬åŸå‹åœ¨å†…çš„æ‰€æœ‰å±æ€§.</p>
<p>è¦æŸ¥æ‰¾ä¸€ä¸ªå±æ€§æ˜¯å¦åªå­˜åœ¨åŸå‹ä¸­,å¯ä»¥å°è£…ä¸€ä¸ªè¿™æ ·çš„å‡½æ•°:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasPrototypeProperty</span>(<span class="params">object, name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> !object.hasOwnProperty(name) &amp;&amp; (name <span class="keyword">in</span> object);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æ³¨æ„: <code>for-in</code>ä¼šæŠŠæ‰€æœ‰çš„å±æ€§ç»™éå†å‡ºæ¥,å³ä¾¿å±æ€§çš„<code>Enumerable</code>ç‰¹æ€§ä¸º<code>flase</code>,ä½†åœ¨IE8ä¹‹å‰,ä¸ä¼šéå†.</p>
<p>å¦‚æœè¦æšä¸¾æ‰€æœ‰å¯éå†çš„å±æ€§,æ€ç”¨<code>Object.keys()</code> ,è¿™æ˜¯ES5çš„æ–¹æ³•.<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.name = <span class="string">"Nicholas"</span>;</span><br><span class="line">Person.prototype.age = <span class="number">29</span>;</span><br><span class="line">Person.prototype.job = <span class="string">"Software Engineer"</span>;</span><br><span class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> keys = <span class="built_in">Object</span>.keys(Person.prototype);</span><br><span class="line">alert(keys);       <span class="comment">//"name,age,job,sayName"</span></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person();</span><br><span class="line">p1.name = <span class="string">"Rob"</span>;</span><br><span class="line">p1.age = <span class="number">31</span>;</span><br><span class="line"><span class="keyword">var</span> p1keys = <span class="built_in">Object</span>.keys(p1);</span><br><span class="line">alert(p1keys);    <span class="comment">//"name,age"</span></span><br></pre></td></tr></table></figure></p>
<p>å¦‚æœä½ æƒ³è¦å¾—åˆ°æ‰€æœ‰å®ä¾‹å±æ€§,æ— è®ºå®ƒæ˜¯å¦å¯æšä¸¾,éƒ½å¯ä»¥ä½¿ç”¨<code>Object.getOwnPropertyNames()</code>æ–¹æ³•ã€‚<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> keys = <span class="built_in">Object</span>.getOwnPropertyNames(Person.prototype);</span><br><span class="line">alert(keys);    <span class="comment">//"constructor,name,age,job,sayName"</span></span><br></pre></td></tr></table></figure></p>
<p>å¤‡æ³¨: <code>Object.keys()</code>å’Œ<code>Object.getOwnPropertyNames()</code>æ˜¯ç”¨æ¥æ›¿ä»£<code>for-in</code>çš„.</p>
<p><strong>ä¼˜åŒ–ååŸå‹æ¨¡å¼</strong><br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age,job</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">Person.prototype=&#123;</span><br><span class="line">	<span class="keyword">constructor</span>:Person, //å…»æˆç¡®å®šæŒ‡å‘çš„ä¹ æƒ¯</span><br><span class="line">	name : "k",</span><br><span class="line">	age : 23,</span><br><span class="line">	job : "worker",</span><br><span class="line">	sayName : function()&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="keyword">this</span>.name)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype.constructor);	<span class="comment">//å¦‚æœæ²¡æœ‰constructor:Person , ç»“æœå°±ä¼šæ˜¯function Object, è¯´æ˜åŸå‹çš„æŒ‡å‘è¢«æ›´æ”¹äº†</span></span><br></pre></td></tr></table></figure></p>
<p><strong>åŸå‹çš„åŠ¨æ€æ€§</strong><br>è§demo:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> friend = <span class="keyword">new</span> Person();</span><br><span class="line">Person.prototype.sayHi = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;	<span class="comment">//æ³¨æ„:1)è¿™é‡Œæ˜¯å…ˆåˆ›å»ºå®ä¾‹,å†ä¿®æ”¹çš„åŸå‹ 2)ç”¨çš„ä¸æ˜¯å­—é¢é‡æ–¹å¼</span></span><br><span class="line">    alert(<span class="string">"hi"</span>);</span><br><span class="line">&#125;;</span><br><span class="line">friend.sayHi(); <span class="comment">//"hi", ç»“æœç…§æ ·æ­£å¸¸</span></span><br></pre></td></tr></table></figure></p>
<p>demo2: å°è¯•å­—é¢é‡åŸå‹çš„åŠ¨æ€æ€§<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">    <span class="keyword">constructor</span>: Person,</span><br><span class="line">    name : "k",</span><br><span class="line">    age : 23,</span><br><span class="line">    job : "worker",</span><br><span class="line">    sayName : function () &#123;</span><br><span class="line">        alert(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">person1.sayName();   <span class="comment">//æŠ¥é”™ person1.sayName is not a function ,æ­¤åŸå‹(åŸç”ŸåŸå‹)éå½¼åŸå‹(å­—é¢é‡é‡å†™çš„åŸå‹)</span></span><br></pre></td></tr></table></figure></p>
<p>åŸå‹æ¨¡å¼çš„é‡è¦æ€§ä¸ä»…ä½“ç°åœ¨åˆ›å»ºè‡ªå®šä¹‰ç±»å‹æ–¹é¢,å°±è¿æ‰€æœ‰åŸç”Ÿçš„å¼•ç”¨ç±»å‹,éƒ½æ˜¯é‡‡ç”¨è¿™ç§æ¨¡å¼ åˆ›å»ºçš„.æ‰€æœ‰åŸç”Ÿå¼•ç”¨ç±»å‹(Objectã€Arrayã€String,ç­‰ç­‰)éƒ½åœ¨å…¶æ„é€ å‡½æ•°çš„åŸå‹ä¸Šå®šä¹‰äº†æ–¹æ³•.</p>
<p>ä½†éå¸¸ä¸å»ºè®®ä¿®æ”¹åŸç”Ÿå¯¹è±¡çš„åŸå‹ .</p>
<p><strong>åŸå‹æ¨¡å¼çš„ç¼ºç‚¹(æ²¡é”™,ä¼˜ç‚¹ä¹Ÿå¯ä»¥æ˜¯ç¼ºç‚¹)</strong></p>
<p>åŸå‹æ¨¡å¼çœç•¥äº†ä¸ºæ„é€ å‡½æ•°ä¼ é€’åˆå§‹åŒ–å‚æ•°è¿™ä¸€ç¯èŠ‚,ç»“æœæ‰€æœ‰å®ä¾‹åœ¨ é»˜è®¤æƒ…å†µä¸‹éƒ½å°†å–å¾—ç›¸åŒçš„å±æ€§å€¼ã€‚è™½ç„¶è¿™ä¼šåœ¨æŸç§ç¨‹åº¦ä¸Šå¸¦æ¥ä¸€äº›ä¸æ–¹ä¾¿,ä½†è¿˜ä¸æ˜¯åŸå‹çš„æœ€å¤§é—®é¢˜ã€‚ åŸå‹æ¨¡å¼çš„æœ€å¤§é—®é¢˜æ˜¯ç”±å…¶å…±äº«çš„æœ¬æ€§æ‰€å¯¼è‡´çš„ã€‚</p>
<p>è§demo :<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">    <span class="keyword">constructor</span>: Person,</span><br><span class="line">    name : "k",</span><br><span class="line">    friends:['k1','k2'] //æ•°ç»„æ˜¯å¼•ç”¨ç±»å‹</span><br><span class="line">&#125;;</span><br><span class="line">var person1 = new Person();</span><br><span class="line">var person2 = new Person();</span><br><span class="line">var friends1 = person1.friends;</span><br><span class="line">var friends2 = person2.friends;</span><br><span class="line">person1.friends.push('k3');</span><br><span class="line">console.log(friends1);	// k1,k2,k3</span><br><span class="line">console.log(friends2);	// æ³¨æ„è¿™é‡Œå˜æˆäº† k1,k2,k3</span><br></pre></td></tr></table></figure></p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå‡ ä¹æ²¡äººå•çº¯ç”¨åŸå‹æ¨¡å¼.</p>
<p>è§£å†³æ–¹æ³• :</p>
<h4 id="ç»„åˆä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼å’ŒåŸå‹æ¨¡å¼"><a href="#ç»„åˆä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼å’ŒåŸå‹æ¨¡å¼" class="headerlink" title="ç»„åˆä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼å’ŒåŸå‹æ¨¡å¼"></a>ç»„åˆä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼å’ŒåŸå‹æ¨¡å¼</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.name = name;</span><br><span class="line">	<span class="keyword">this</span>,age = age;</span><br><span class="line">	<span class="keyword">this</span>.friends=[<span class="string">'k1'</span>,<span class="string">'k2'</span>]; <span class="comment">//ä»€ä¹ˆ?ä½ ä¸ç†è§£? å›æƒ³ä¸€ä¸‹ new Function</span></span><br><span class="line">&#125;</span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">    <span class="keyword">constructor</span>: Person,</span><br><span class="line">	sayName : function()&#123;</span><br><span class="line">        alert(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">'k1'</span>,<span class="number">22</span>);</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">'k2'</span>,<span class="number">22</span>);</span><br><span class="line"><span class="keyword">var</span> friends1 = person1.friends;</span><br><span class="line"><span class="keyword">var</span> friends2 = person2.friends;</span><br><span class="line">person1.friends.push(<span class="string">'k3'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(friends1);	<span class="comment">// k1,k2,k3</span></span><br><span class="line"><span class="built_in">console</span>.log(friends2);	<span class="comment">// k1,k2</span></span><br></pre></td></tr></table></figure>
<p>è¿™å°±æ˜¯æˆ‘ä»¬æœ€å¸¸è§çš„è®¾è®¡æ¨¡å¼.<br>ä¸è¿‡è¿™çœ‹èµ·æ¥è²Œä¼¼åˆæœ‰ç‚¹é—®é¢˜, æ„é€ å‡½æ•°å’ŒåŸå‹åˆ†åˆ«åˆ†å¼€,çœ‹èµ·æ¥å¾ˆä¸çˆ½, äºæ˜¯å°±æœ‰äº†ä¸‹é¢:</p>
<h4 id="åŠ¨æ€åŸå‹æ¨¡å¼"><a href="#åŠ¨æ€åŸå‹æ¨¡å¼" class="headerlink" title="åŠ¨æ€åŸå‹æ¨¡å¼"></a>åŠ¨æ€åŸå‹æ¨¡å¼</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.name = name;</span><br><span class="line">	<span class="keyword">this</span>,age = age;</span><br><span class="line">	<span class="keyword">this</span>.friends=[<span class="string">'k1'</span>,<span class="string">'k2'</span>];</span><br><span class="line">	<span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">this</span>.sayName != <span class="string">"function"</span>)&#123;</span><br><span class="line">	    Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	        alert(<span class="keyword">this</span>.name);</span><br><span class="line">		&#125;; </span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™å·²ç»å‡ ä¹å®Œç¾äº†.</p>
<h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><p>è®¸å¤š OO è¯­è¨€éƒ½æ”¯æŒä¸¤ç§ç»§æ‰¿æ–¹å¼:æ¥å£ç»§æ‰¿å’Œ å®ç°ç»§æ‰¿ã€‚æ¥å£ç»§æ‰¿åªç»§æ‰¿æ–¹æ³•ç­¾å,è€Œå®ç°ç»§æ‰¿åˆ™ç»§æ‰¿å®é™…çš„æ–¹æ³•ã€‚å¦‚å‰æ‰€è¿°,ç”±äºå‡½æ•°æ²¡æœ‰ç­¾å, åœ¨ ECMAScript ä¸­æ— æ³•å®ç°æ¥å£ç»§æ‰¿ã€‚</p>
<p>JSç»§æ‰¿ä¸»è¦æ˜¯é€šè¿‡åŸå‹é“¾æ¥å®ç°çš„.</p>
<p>å‰é¢è¯´äº†<strong>åŸå‹</strong> , <strong>åŸå‹é“¾</strong>å½“ç„¶ä¹Ÿå¾ˆå¥½ç†è§£, æ‰“ä¸ªå¯èƒ½ä¸æ°å½“çš„æ¯”å–» , ä½ æœ‰å¥½å‡ èŠ‚æ°´ç®¡,ä½ æƒ³ä»å¨æˆ¿æ¥åˆ°é˜³å°, ä½†æ˜¯å“ªä¸€éƒ½æ®µæ²¡æ³•ç›´æ¥è¿æ¥åˆ°ä½ é˜³å°, å› ä¸ºæ¯ä¸€èŠ‚æ°´ç®¡éƒ½å¤ªçŸ­äº†. ç„¶è€Œä½ å¯ä»¥å°†æ‰€æœ‰çš„æ°´ç®¡ä¸€èŠ‚ä¸€èŠ‚çš„è¿èµ·æ¥, è¿™æ ·å°±èƒ½è¾¾æˆç›®çš„äº†. åŸå‹é“¾å°±å’Œè¿™å·®ä¸å¤š: <strong>å¯¹è±¡aå¯ä»¥è®¿é—®åˆ°åŸå‹Aé‡Œé¢çš„å±æ€§å’Œæ–¹æ³• ,å‡å¦‚åŸå‹A åˆæœ‰ä¸€ä¸ªåŸå‹B(ä¹Ÿå°±æ˜¯è¯´åŸå‹Aæ˜¯åŸå‹Bçš„ä¸€ä¸ªå®ä¾‹),  è¿™æ ·çš„è¯å¯¹è±¡aå°±èƒ½è®¿é—®åˆ°åŸå‹B , åªè¦ä½ å–œæ¬¢,è¿™ä¸ªé“¾èƒ½æ¥æ›´å¤šâ€¦..</strong></p>
<p>è§demo :<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.property = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">SuperType.prototype.getSuperValue = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.property;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.subproperty = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">SubType.prototype = <span class="keyword">new</span> SuperType(); <span class="comment">//è¿™ä¸€æ­¥éå¸¸é‡è¦</span></span><br><span class="line">SubType.prototype.getSubValue = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.subproperty;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> instance = <span class="keyword">new</span> SubType();</span><br><span class="line">alert(instance.getSuperValue()); 	<span class="comment">// true, è¯´æ˜è®¿é—®åˆ°äº†SuperTypeåŸå‹</span></span><br><span class="line">SubType.prototype.getSuperValue = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123; <span class="comment">//æ³¨æ„:1)æ²¡æœ‰ä½¿ç”¨å­—é¢é‡æ–¹å¼é‡å†™åŸå‹ 2)è¿™é‡Œçš„getSuperValueåªæ˜¯SubTypeåŸå‹é‡Œé¢çš„,è€Œä¸æ˜¯SuperTypeåŸå‹é‡Œé¢çš„</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;;</span><br><span class="line">alert(instance.getSuperValue());   <span class="comment">//false , å±è”½äº†çˆ¶ç±»åŸå‹ä¸­åŒåå±æ€§(æ–¹æ³•)</span></span><br></pre></td></tr></table></figure></p>
<p>å¥½, é‚£ä¹ˆé—®é¢˜æ¥äº†:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.arr = [<span class="string">'a'</span>,<span class="string">'b'</span>]; <span class="comment">//å¼•ç”¨ç±»å‹æ”¾åœ¨æ„é€ å‡½æ•°å†…, å¦¥å¦¥çš„ :)</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line">SubType.prototype = <span class="keyword">new</span> SuperType();</span><br><span class="line"><span class="keyword">var</span> instance = <span class="keyword">new</span> SubType();</span><br><span class="line"><span class="keyword">var</span> instance2 = <span class="keyword">new</span> SubType();</span><br><span class="line">instance.arr.push(<span class="string">'c'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(instance.arr);	<span class="comment">//["a", "b", "c"] </span></span><br><span class="line"><span class="built_in">console</span>.log(instance2.arr);	<span class="comment">//["a", "b", "c"]</span></span><br></pre></td></tr></table></figure></p>
<p>åˆ°è¿™é‡Œä½ å¯èƒ½ç–‘æƒ‘, æˆ‘æ¥ç»™ä½ è§£ç­” :<br>å½“ SubType é€šè¿‡åŸå‹é“¾ç»§æ‰¿äº† SuperType ä¹‹å,SubType.prototype å°±å˜æˆäº† SuperType çš„ä¸€ä¸ªå®ä¾‹, å› æ­¤å®ƒä¹Ÿæ‹¥æœ‰äº†ä¸€ä¸ªå®ƒè‡ªå·±çš„ colors å±æ€§ç­‰æ•ˆäº æˆ‘åœ¨SubType.prototypeé‡Œé¢æ”¾ç½®ä¸€ä¸ªarr(å¼•ç”¨ç±»å‹)ä¸€æ ·, è¿™å°±æ˜¯åŸå‹é“¾æœ€å¤§çš„é—®é¢˜ .</p>
<p><strong>è§£å†³åŠæ³•</strong></p>
<h3 id="å€Ÿç”¨æ„é€ å‡½æ•°"><a href="#å€Ÿç”¨æ„é€ å‡½æ•°" class="headerlink" title="å€Ÿç”¨æ„é€ å‡½æ•°"></a>å€Ÿç”¨æ„é€ å‡½æ•°</h3><p>è§demo:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.arr = [<span class="string">'a'</span>,<span class="string">'b'</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	SuperType.call(<span class="keyword">this</span>) <span class="comment">//å€Ÿç”¨äº†çˆ¶ç±»çš„æ„é€ å‡½æ•°,è¡¥å……è¯´æ˜,å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡,å¯¹è±¡å°±æœ‰å±æ€§å’Œæ–¹æ³•, callå°±æ˜¯å‡½æ•°çš„æ–¹æ³•ä¹‹ä¸€.</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> instance = <span class="keyword">new</span> SubType();</span><br><span class="line"><span class="keyword">var</span> instance2 = <span class="keyword">new</span> SubType();</span><br><span class="line">instance.arr.push(<span class="string">'c'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(instance.arr); <span class="comment">//["a", "b", "c"]</span></span><br><span class="line"><span class="built_in">console</span>.log(instance2.arr); <span class="comment">//["a", "b"]</span></span><br></pre></td></tr></table></figure></p>
<p><strong>æ³¨æ„äº‹é¡¹:</strong><br>1) ä¼ é€’å‚æ•°<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	SuperType.call(<span class="keyword">this</span>, <span class="string">"k"</span>); <span class="comment">//ç»§æ‰¿äº† SuperType,åŒæ—¶è¿˜ä¼ é€’äº†å‚æ•° </span></span><br><span class="line">    <span class="keyword">this</span>.age = <span class="number">23</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> instance = <span class="keyword">new</span> SubType();</span><br><span class="line">alert(instance.name);    <span class="comment">//"k";</span></span><br><span class="line">alert(instance.age);     <span class="comment">//23</span></span><br></pre></td></tr></table></figure></p>
<p>2) é—®é¢˜<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.arr = [<span class="string">'a'</span>,<span class="string">'b'</span>];</span><br><span class="line">&#125;</span><br><span class="line">SuperType.prototype=&#123;</span><br><span class="line">	<span class="keyword">constructor</span>:SuperType,</span><br><span class="line">	name:'k',</span><br><span class="line">	show:function()&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="keyword">this</span>.arr);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	SuperType.call(<span class="keyword">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> instance = <span class="keyword">new</span> SubType();</span><br><span class="line"><span class="keyword">var</span> instance2 = <span class="keyword">new</span> SubType();</span><br><span class="line">instance.arr.push(<span class="string">'c'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(instance.arr);</span><br><span class="line"><span class="built_in">console</span>.log(instance2.arr);</span><br><span class="line">instance.show();	<span class="comment">//æŠ¥é”™</span></span><br></pre></td></tr></table></figure></p>
<p>ä»ä¸Šé¢ä¾‹å­å¯ä»¥çœ‹å‡º, å¦‚æœä»…ä»…ä½¿ç”¨å€Ÿç”¨æ„é€ å‡½æ•°å®ç°ç»§æ‰¿çš„è¯, çˆ¶ç±»åŸå‹ä¸­çš„å±æ€§å’Œæ–¹æ³•æ˜¾ç„¶æ˜¯ä¸å¯è§çš„, é‚£ä¹ˆé—®é¢˜åˆå›åˆ°äº†æ„é€ å‡½æ•°æ¨¡å¼å­˜åœ¨çš„é—®é¢˜â€“å‡½æ•°å¤ç”¨çš„é—®é¢˜ .</p>
<p>äºæ˜¯è§£å†³æ–¹æ³•å¦‚ä¸‹:</p>
<h3 id="ç»„åˆç»§æ‰¿"><a href="#ç»„åˆç»§æ‰¿" class="headerlink" title="ç»„åˆç»§æ‰¿"></a>ç»„åˆç»§æ‰¿</h3><p>ä½¿ç”¨åŸå‹é“¾å®ç°å¯¹åŸå‹å±æ€§å’Œæ–¹æ³•çš„ç»§æ‰¿,è€Œé€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°æ¥å®ç°å¯¹å®ä¾‹å±æ€§çš„ç»§æ‰¿.è¿™æ ·,æ—¢é€šè¿‡åœ¨åŸå‹ä¸Šå®šä¹‰æ–¹æ³•å®ç°äº†å‡½æ•° å¤ç”¨,åˆèƒ½å¤Ÿä¿è¯æ¯ä¸ªå®ä¾‹éƒ½æœ‰å®ƒè‡ªå·±çš„å±æ€§.</p>
<p>æ€è€ƒä¸€ä¸‹, <strong>åŸå‹é“¾ç»§æ‰¿</strong>å’Œ<strong>å€Ÿç”¨æ„é€ å‡½æ•°</strong>å•ç‹¬ä½¿ç”¨çš„æ—¶å€™éƒ½æœ‰é—®é¢˜, ç»„åˆåœ¨ä¸€èµ·çš„æ—¶å€™é—®é¢˜å°±æ²¡äº†, æœŸä¸­è‚¯å®šå‘ç”Ÿäº†é‡å†™.<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.colors = [<span class="string">"red"</span>, <span class="string">"blue"</span>, <span class="string">"green"</span>];</span><br><span class="line">&#125;</span><br><span class="line">SuperType.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="keyword">this</span>.name);</span><br><span class="line">ï¿¼&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params">name, age</span>)</span>&#123;</span><br><span class="line"> 	SuperType.call(<span class="keyword">this</span>, name);  <span class="comment">//ç¬¬äºŒæ¬¡è°ƒç”¨çˆ¶ç±», å±æ€§è¢«é‡å†™</span></span><br><span class="line">	<span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line">SubType.prototype = <span class="keyword">new</span> SuperType(); <span class="comment">//ç¬¬ä¸€æ¬¡è°ƒç”¨çˆ¶ç±»</span></span><br><span class="line">SubType.prototype.constructor = SubType;</span><br><span class="line">SubType.prototype.sayAge = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	alert(<span class="keyword">this</span>.age);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="åŸå‹å¼ç»§æ‰¿"><a href="#åŸå‹å¼ç»§æ‰¿" class="headerlink" title="åŸå‹å¼ç»§æ‰¿"></a>åŸå‹å¼ç»§æ‰¿</h3><p>è§demo:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">object</span>(<span class="params">o</span>)</span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">	F.prototype=o;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> F()</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//é—®é¢˜:</span></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    name: <span class="string">"Nicholas"</span>,</span><br><span class="line">    friends: [<span class="string">"Shelby"</span>, <span class="string">"Court"</span>, <span class="string">"Van"</span>] <span class="comment">// ä¼šè¢«å…±äº«</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> anotherPerson = object(person);</span><br><span class="line">anotherPerson.name = <span class="string">"Greg"</span>;</span><br><span class="line">anotherPerson.friends.push(<span class="string">"Rob"</span>);</span><br><span class="line"><span class="keyword">var</span> yetAnotherPerson = object(person);</span><br><span class="line">yetAnotherPerson.name = <span class="string">"Linda"</span>;</span><br><span class="line">yetAnotherPerson.friends.push(<span class="string">"Barbie"</span>);</span><br><span class="line">alert(person.friends);   <span class="comment">//"Shelby,Court,Van,Rob,Barbie"</span></span><br></pre></td></tr></table></figure></p>
<h3 id="å¯„ç”Ÿå¼ç»§æ‰¿-ç±»ä¼¼äºåŸå‹é“¾ç»§æ‰¿"><a href="#å¯„ç”Ÿå¼ç»§æ‰¿-ç±»ä¼¼äºåŸå‹é“¾ç»§æ‰¿" class="headerlink" title="å¯„ç”Ÿå¼ç»§æ‰¿(ç±»ä¼¼äºåŸå‹é“¾ç»§æ‰¿)"></a>å¯„ç”Ÿå¼ç»§æ‰¿(ç±»ä¼¼äºåŸå‹é“¾ç»§æ‰¿)</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">object</span>(<span class="params">o</span>)</span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">	F.prototype=o;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> F()</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createAnother</span>(<span class="params">original</span>)</span>&#123; </span><br><span class="line">	<span class="keyword">var</span> clone=object(original); <span class="comment">//é€šè¿‡è°ƒç”¨å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡</span></span><br><span class="line">	clone.sayHi = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	    alert(<span class="string">"hi"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">return</span> clone;</span><br></pre></td></tr></table></figure>
<h3 id="å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"><a href="#å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿" class="headerlink" title="å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"></a>å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</h3><p>ç•¥</p>

  </div>

</article>


  <nav id="pagenavi">
    
    <a href="/2015/12/25/sublime-skill/" class="prev">ä¸Šä¸€ç¯‡ï¼šå‰ç«¯å¼€å‘å·¥å…·</a>
    
    
    <a href="/2015/06/18/dom-extend/" class="next">ä¸‹ä¸€ç¯‡ï¼šDOMæ‰©å±•å’ŒHTML5çš„API</a>
    
  </nav>

        </div>
        
        
          <div class="post-comments" id="Jcmt">
            <h1 class="post-comments-title">è®¿å®¢è¯„è®º</h1>
            <div id="Jcomment"></div>
          </div>
        
      </div>
      <footer id="footer" class="inner">
        Â© 2021 - æµ‹è¯•ç‹— -
        <span id="busuanzi_container_site_pv">PV <span id="busuanzi_value_site_pv"></span></span>
        <p>Powered by <a href="https://hexo.io/">Hexo</a> & <a href="https://github.com/thinkerchan/hexo-theme-greyshade">GreyShade</a></p>
      </footer>
    </div>
  </div>
  
  <script>
    let mod ={
      timePrefix:'t-',
      expire:1000*60*60,
      load:function(libName,libUrl,cb){
        let aval = (new Date).getTime() - localStorage.getItem(this.timePrefix+libName) < this.expire;
        let libStr = localStorage.getItem(libName)
        if (aval && libStr) {
          this.parseAndInsert(libStr)
          cb && cb(libStr);
        }else{
          this.ajax(libUrl,(str)=>{
            localStorage.setItem(libName, str)
            localStorage.setItem(this.timePrefix+libName, (new Date).getTime())
            this.parseAndInsert(str)
            cb && cb(str);
          })
        }
      },
      parseAndInsert(rawStr) {
        let script = document.createElement('script')
        script.innerHTML = rawStr
        document.body.appendChild(script)
      },
      ajax:function(url,cb){
        let xhr = new XMLHttpRequest;
        xhr.open('get', url, true)
        xhr.send();
        xhr.onreadystatechange = function () {
          if (xhr.readyState == 4 && xhr.status == 200) {
            cb && cb(xhr.responseText)
          }else{
            // console.log(xhr.readyState,xhr.status);
          }
        }
      },
      genCmt(){
        window.Valine && new Valine({
          el: '#Jcomment',
          appId: 'XPJzs0FfufkFfuBjbJraqhbo-gzGzoHsz',
          appKey: 'QoS0zL4Y2xTDviitGOPkvCGv',
          notify: true,
          verify: false,
          avatar: 'mm',
          pageSize: '10',
          placeholder: 'Valine+Leancloudæä¾›è¯„è®º'
        })
      }
    }

    mod.load('lib-av', 'https://cdn.jsdelivr.net/npm/leancloud-storage@3.0.1/dist/av-min.js', () => {
      mod.load('lib-cmt', 'https://unpkg.com/valine@1.4.14/dist/Valine.min.js',()=>{
        let t = setTimeout(() => {
          mod.genCmt()
          clearTimeout(t)
          t = null;
        }, 100);
      })
    })
  </script>
  
  <script async defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  
  <script async defer src="https://s5.cnzz.com/z_stat.php?id=1276809529&web_id=1276809529"></script>
  
</body>
</html>